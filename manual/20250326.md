## ê¸ˆì¼ìê¹Œì§€ì˜ ìƒí™©
Home / Movie(ì»´í¬ë„ŒíŠ¸) / Detail
ê·¸ë¦¬ê³  ì´ìƒì˜ pageë“¤ì„ ê°ì‹¸ëŠ” App.jsx

Routingì´ ì œëŒ€ë¡œ ì´ì–´ì§€ì§€ ì•ŠëŠ”ë‹¤.

### ì˜¤ë¥˜ ìˆ˜ì • ì‹œë„ ë°©ì‹
npm install react-router-dom@5.3.0 ìœ¼ë¡œ ì¬ì„¤ì¹˜ -> ì‹¤íŒ¨

ì´ì œ ì§„í–‰í•  ë°©ì‹
- node_modules ì‚­ì œ
- npm install
- npm install react-router-dom@6
- Router ê´€ë ¨ì´ ì ìš©ë˜ì–´ìˆëŠ” App.jsx / Detail.jsx V6 ì— ë§ë„ë¡ ì¬ì„¤ì •
- npm run dev -> detail pageë¡œì˜ ì´ë™ í™•ì¸
- Detail ì»´í¬ë„ŒíŠ¸ë¥¼ ì˜í™” ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆê²Œë” ì‘ì„±
  - Detail.cssë¥¼ ë§Œë“­ë‹ˆë‹¤.

### react-router-dom@6 ì´í›„ App.jsx

```jsx
import { BrowserRouter as Router, Routes, Route } from "react-router-dom";
import Home from "./routes/Home";
import Detail from "./routes/Detail";
import './App.css'

function App() {
  return(
    <Router>
      <Routes>
        {/* ë£¨íŠ¸ ê²½ë¡œ */}
        <Route path="/" element={<Home />} />

        {/* ì˜í™” ìƒì œ ì •ë³´ */}
        <Route path="/movie/:id" element={<Detail />} />
        
      </Routes>
    </Router>
  );
}

export default App;
```

v5ì™€ì˜ ê°€ì¥ í° ì°¨ì´ì  \<Switch>\</Switch> ì»´í¬ë„ŒíŠ¸ê°€ ì—†ì–´ ì¡Œë‹¤ëŠ” ì 

```jsx
import { useState, useEffect } from "react";
import { useParams } from "react-router-dom";

function Detail() {
  const { id } = useParams();
  const [ loading, setLoading ] = useState(true);
  const [ movie, setMovie ] = useState(null);

  const getMovie = async () => {
    try {
      const response = await fetch(`https://yts.mx/api/v2/movie_details.json?movie_id=${id}`);
      const json = await response.json();
      setMovie(json.data.movie);
      setLoading(false);
    } catch(error) {
      console.log('ì˜í™” ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì— ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.ğŸ”´', error);
    }
  }

  useEffect(() => {
    getMovie();
  }, [id]);

  return <h1>Detail Page</h1>
}

export default Detail;
```

í˜„ì¬ê¹Œì§€ì˜ ì‘ì„± ìˆ˜ì¤€ì—ì„œ ëŒ€ë¶€ë¶„ì´ Home.jsxì™€ ìœ ì‚¬í•œ ìƒí™©ì…ë‹ˆë‹¤. ì°¨ì´ê°€ ìˆë‹¤ë©´ todos / todo ì˜ ì°¨ì´ì¼ë§Œí¼ ìœ ì‚¬í•˜ê²Œ ì½”ë“œë¼ì¸ì„ ê°€ì ¸ê°„ë‹¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¦‰ ì „ì²´ í˜ì´ì§€ì—ì„œ ë‹¤ìˆ˜ì˜ ì˜í™”ë“¤ì„ ë³´ì—¬ì£¼ê³ , Linkë¥¼ í†µí•´ì„œ íŠ¹ì • ì•„ì´ë””ë¥¼ ê°€ì§€ê³  ì¡°íšŒí•˜ê²Œ ë˜ë©´ Detail í˜ì´ì§€ë¡œ ì´ë™í•˜ê²Œ ë˜ê¸° ë•Œë¬¸ì— Detail í˜ì´ì§€ ë‚´ë¶€ì—ì„œëŠ” 'í•œ í¸ì˜ ì˜í™”'ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±í•˜ê²Œ ë©ë‹ˆë‹¤.

ê·¸ë¦¬ê³  id ê°’ì— ë”°ë¼ ê°€ì§€ê³  ì˜¤ê²Œ ë˜ëŠ” APIì˜ ì£¼ì†Œê°€ ë™ì ìœ¼ë¡œ ë°”ë€ë‹¤ëŠ” ì  ë•Œë¬¸ì— useEffect(() => {}, []); ë¶€ë¶„ì´ Homeê³¼ Detailì´ ì„œë¡œ ë‹¬ë¼ì§€ê²Œ ë©ë‹ˆë‹¤. Homeì˜ ê²½ìš° ìµœì´ˆ ë Œë”ë§ ì‹œì—ë§Œ ì˜í™” ì „ì²´ì˜ APIë¥¼ ê°€ì§€ê³  ì˜¤ë©´ ë˜ëŠ” ë°˜ë©´, Detailì˜ ê²½ìš°ì—ëŠ” í´ë¦­ì´ ì¼ì–´ë‚  ë•Œë§Œ (API) APIë¥¼ í˜¸ì¶œí•˜ê²Œ ë©ë‹ˆë‹¤.
ì´ìƒì„ ì´ìœ ë¡œ
```jsx
useEffect(() => {
  getMovie();
}, [id]);
```
ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì‘ì„±í•  í•„ìš”ê°€ ìˆìœ¼ë©°, í•´ë‹¹ idë¥¼ ë°›ì•„ì˜¤ê¸° ìœ„í•´

```jsx
const { id } = useParams();
```
ì˜ ê°œë…ì´ í•„ìš”

## useParams
React Router v6ì—ì„œ ì œê³µí•˜ëŠ” custom Hookìœ¼ë¡œ, í˜„ì¬ URLì˜ ë™ì  íŒŒë¼ë¯¸í„°(Dynamic Segment) ê°’ì„ 'ê°ì²´' í˜•íƒœë¡œ ë°˜í™˜(const {id} = useParams();)ì—ì„œ í™•ì¸ ê°€ëŠ¥

### ì‚¬ìš© ì´ìœ 
React ìƒì—ì„œ URL ê²½ë¡œë¥¼ ê¸°ë°˜ìœ¼ë¡œ í˜ì´ì§€ë¥¼ ë¶„ê¸°í•˜ê³  ì‹¶ì„ ë•Œ(SPAì—ì„œ ë²—ì–´ë‚˜ê³  ì‹¶ì„ ë•Œ), ë¼ìš°íŒ… êµ¬ì„±ì„ í†µí•´ì„œ ì´ë£¨ê²Œ ë©ë‹ˆë‹¤.

```jsx
<Route path="/movie/:id" element={<Detail />} />
```

ì´ ë•Œ :id ê°€ ë™ì  íŒŒë¼ë¯¸í„°ì— í•´ë‹¹í•˜ëŠ”ë°, ì˜ˆë¥¼ ë“¤ì–´ì„œ /movie/1234ì— ì ‘ê·¼í•˜ë©´, 1234ê°€ id íŒŒë¼ë¯¸í„°ë¡œ ë“¤ì–´ê°€ê²Œ ë˜ê³ , ì´ ê°’ì„ useParams()ë¥¼ í†µí•´ì„œ ë°›ì•„ì˜¤ëŠ” ê²ƒì´ ê°€ëŠ¥.

21:30ë¶„ì— ì•ˆë‚´ í•  ì˜ˆì •
1. React ë³´ë¼ìƒ‰ ì‚¬ì´íŠ¸ë¥¼ ë³µì‚¬í•˜ì—¬ ë‚´ë¶€ì˜ contentë¥¼ ì´ë ¥ì„œ ì–‘ì‹ìœ¼ë¡œ ë°”ê¿”ë³´ê¸°
2. 1ë§Œ ì‹œê°„ì˜ ë²•ì¹˜ Vanilla JS ë° HTML / CSS ë‹¤ë£¨ê¸°
3. GitHub ë¸”ë¡œê·¸ forkí•˜ì—¬ ê¸°ìˆ  ë¸”ë¡œê·¸í™” í•˜ê¸°